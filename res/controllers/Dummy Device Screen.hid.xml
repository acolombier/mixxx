<?xml version='1.0' encoding='utf-8'?>
<MixxxControllerPreset mixxxVersion="2.4.0" schemaVersion="1">
     <info>
        <name>Dummy Device (Screens)</name>
        <author>A. Colombier</author>
        <description>Dummy device screens</description>
        <devices>
            <product protocol="hid" vendor_id="0xdead" product_id="0xbeaf" />
        </devices>
    </info>
    <controller id="DummyDevice">
        <renderfiles>
            <screen filename="Traktor-Kontrol-S4-MK3-Screens.qml" identifier="deck" width="320" height="240" screenCount="1" targetFps="30" pixelType="RBG565">
                <library path="Traktor-Kontrol-S4-MK3-Screens" />
                <transformfunction type="javascript">
                    (function(input, screen_id) {
                        data = new ArrayBuffer(320*240*2 + 20);
                        header = new Uint8Array(data, 0, 16);
                        payload = new Uint8Array(data, 16, 320*240*2);
                        footer = new Uint8Array(data, 320*240*2 + 16, 4);
                        header.fill(0)
                        footer.fill(0)
                        header[0] = 0x84;
                        header[3] = 0x21;
                        header[12] = 0x1;
                        header[13] = 0x40;
                        header[15] = 0xf0;
                        payload.set(new Uint8Array(input, 0, 320*240*2))
                        footer[2] = screen_id;
                        return data;
                    })
                </transformfunction>
            </screen>
        </renderfiles>
    </controller>
</MixxxControllerPreset>
